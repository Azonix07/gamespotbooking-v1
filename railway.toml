[build]
builder = "NIXPACKS"
# Use a custom build script
buildCommand = "chmod +x ./build.sh && ./build.sh"

[deploy]
# Start Flask backend (which serves both API and React frontend)
startCommand = "cd backend && gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
